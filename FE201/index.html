<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>FE201</title>
  <script src="https://code.jquery.com/jquery-3.6.1.js"></script>
  <style>
    .todo {
      padding: 12px;
      border: 1px solid grey;
    }
  </style>
</head>
<body>
  <input type="text" class="todo-input">
  <button class="btn-add">Add todo</button>
  <button class="btn-remove-all">Remove all todos</button>
  <div class="todos"></div>

  <script>
    let isHide = false;

    $('.btn-add').click(function() {
      const value = $('.todo-input').val(); // 取值
      $('.todo-input').val(''); // val 輸入空字串，把值清空

      // 相當於 .appendChild()
      $('.todos').append(`
        <div class="todo">
          ${value}
          <button class="btn-mark">標記完成</button>
          <button class="btn-delete">刪除</button>
        </div>
      `); 
    });

    $('.todos').on('click', '.btn-delete', function(e){
      $(e.target).parent().fadeOut();
    });

    $('.todos').on('click', '.btn-mark', function(e) {
      const todo = $(e.target).parent();
      if(todo.hasClass('completed')) {
        todo.css('color', 'black');
        todo.removeClass('completed');
        $(e.target).text('標記完成');
      } else {
        todo.css('color', 'green');
        todo.addClass('completed');
        $(e.target).text('標記未完成');
      }
    });

    $('.btn-remove-all').click(() => {
      $('.todos').empty(); // innerHTML = ''
    });
  </script>
</body>
</html>